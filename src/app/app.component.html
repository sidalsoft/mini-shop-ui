<app-nav></app-nav>
<main class="container">
  <app-product-list [products]="products"
                    (valueChange)="onProductListChange($event)"></app-product-list>
  <button class="btn btn-primary"
          type="submit"
          (click)="showAddProductDialog=!showAddProductDialog">
    Добавить товар
  </button>
  <app-product-form *ngIf="showAddProductDialog"
                    [product]="selectedProduct"
                    (valueChange)="onFormChange($event)"></app-product-form>

  <div *ngIf="showToast"
       class="toast align-items-center text-white bg-warning position-fixed bottom-0 end-0 p-3"
       role="alert"
       aria-live="assertive"
       aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body">
        {{messageToast}}
      </div>
      <button type="button"
              class="btn-close btn-close-white me-2 m-auto"
              data-bs-dismiss="toast"
              aria-label="Close"
              (click)="showToast=false"></button>
    </div>
  </div>
  <div #spinner class="spinner">
    <div class="spinner-border text-success" role="status" style="position: absolute;top: 50%;">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <app-confirm *ngIf="showConfirm"
               [productName]="selectedProduct?.name||''"
               (valueChange)="onConfirmChange($event)"></app-confirm>
</main>
